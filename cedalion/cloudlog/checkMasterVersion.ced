'/bootstrap':signature(checkMasterVersion(Axiom,CurrVersion)::'/impred':impred,[Axiom::axiom,CurrVersion::'/bootstrap':number]).
'/util':behavior(checkMasterVersion(Axiom,RowVersion)::'/impred':impred,!'should update the stored version for the table if the row version is greater','/impred':simulate(checkMasterVersion(example:someFact(1,2),9),['/impred':task('/impred':localGet(!'example#someFact:ver'),num(7),'/impred':localStoreVal),'/impred':task('/impred':localSet(!'example#someFact:ver',num(9)),_,'/impred':localStoreVal)],'/impred':true)).
'/util':behavior(checkMasterVersion(Axiom,RowVersion)::'/impred':impred,!'should enqueue updateMaste if the stored version is greater than the row version','/impred':simulate(checkMasterVersion(example:someFact(1,2),7),['/impred':task('/impred':localGet(!'example#someFact:ver'),num(9),'/impred':localStoreVal),'/impred':task('/nodalion':enqueue(!wq,updateMaster(!'example#someFact',1,'/bootstrap':number,9),'/impred':impred),_,'/nodalion':voidType)],'/impred':true)).
'/util':behavior(checkMasterVersion(Axiom,RowVersion)::'/impred':impred,!'should update the stored version with the row version if no version is stored','/impred':simulate(checkMasterVersion(example:someFact(1,2),7),['/impred':task('/impred':localGet(!'example#someFact:ver'),_,'/impred':localStoreVal),'/impred':task('/impred':localSet(!'example#someFact:ver',num(7)),_,'/impred':localStoreVal)],'/impred':true)).
annotation:shrink('/impred':clause(checkMasterVersion(Axiom,RowVersion),'/impred':conj('/impred':pred(tableName(Axiom,Table)),'/impred':conj('/impred':pred('/Functional':eval('/Functional':applyBinOp('/Functional':const(Table),'/Functional':concat,'/Functional':const(!':ver')),'/bootstrap':string,Key)),'/impred':conj('/impred':task('/impred':localGet(Key),num(StoredVersion),'/impred':localStoreVal),'/impred':if('/impred':pred((\+builtin:var(StoredVersion::'/bootstrap':number),StoredVersion>RowVersion)),'/impred':conj('/impred':pred(axiomFamily(Axiom,_,Row::T)),'/nodalion':enqueueJob(updateMaster(Table,Row,T,StoredVersion))),'/impred':task('/impred':localSet(Key,num(RowVersion)),_,'/impred':localStoreVal))))))).

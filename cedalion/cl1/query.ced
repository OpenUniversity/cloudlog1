'/nodalion':serve('cl1','/nodalion':get,!'/q/:hash',['/nodalion':with('/nodalion':jsonObj(['/nodalion':field(!params,Params)]),'/impred':conj('/impred':pred('/Functional':eval('/nodalion':asString('/nodalion':jsonMember('/Functional':const(Params),!hash)),'/bootstrap':string,Hash)),'/impred':conj('/impred':task('/nodalion':ipfsCat(Hash),QueryStr,'/bootstrap':string),'/impred':conj('/impred':pred((parseCloudlog(!q,QueryStr,!somePackage,Query::'/cloudlog':pred,Ctx),contextToQueryResult(Ctx,ResultFields))),'/nodalion':findall('/nodalion':jsonObj(['/nodalion':field(!'_count','/nodalion':jsonNum(Count))|ResultFields]),'/nodalion':json,'/cloudlog':logicQuery(Query,Count),Results)))),['/nodalion':outputJson('/nodalion':jsonList(Results))])]).
'/bootstrap':signature(contextToQueryResult(Ctx,ResultFields)::'/bootstrap':pred,[Ctx::'/bootstrap':list('/cloudlog':ctxElem),ResultFields::'/bootstrap':list('/nodalion':jsonField)]).
contextToQueryResult([],[]):-builtin:true.
annotation:shrink((contextToQueryResult([First|Rest],ResultFields):-builtin:if(First::'/cloudlog':ctxElem='/cloudlog':varName(Var::Type,Name)::'/cloudlog':ctxElem,ResultFields::'/bootstrap':list('/nodalion':jsonField)=['/nodalion':field(Name,'/nodalion':jsonTypedTerm(Var,Type))|ResultFieldsPrime]::'/bootstrap':list('/nodalion':jsonField),ResultFields::'/bootstrap':list('/nodalion':jsonField)=ResultFieldsPrime::'/bootstrap':list('/nodalion':jsonField)),contextToQueryResult(Rest,ResultFieldsPrime))).
